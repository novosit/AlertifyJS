/*! AlertifyJS - v0.9.0 - Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) */
!function(a){"use strict";function b(a,b){a.className+=" "+b}function c(a,b){for(var c=b.split(" "),d=0;d<c.length;d+=1)a.className=a.className.replace(" "+c[d],"")}function d(){return"rtl"===a.getComputedStyle(a.document.body).direction}function e(){return a.document&&a.document.documentElement?a.document.documentElement.scrollTop:a.document&&a.document.body?a.document.body.scrollTop:0}function f(){return a.document&&a.document.documentElement?a.document.documentElement.scrollLeft:a.document&&a.document.body?a.document.body.scrollLeft:0}function g(a,b){return function(){if(arguments.length>0){for(var c=[],d=0;d<arguments.length;d+=1)c.push(arguments[d]);return c.push(a),b.apply(a,c)}return b.apply(a,[null,a])}}function h(a,b){return{index:a,button:b,cancel:!1}}function i(){function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){var b=d[a].dialog;return b&&"function"==typeof b.__init&&b.__init(b),b}function c(b,c,e,f){var g={dialog:null,factory:c};return void 0!==f&&(g.factory=function(){return a(new d[f].factory,new c)}),e||(g.dialog=a(new g.factory,p)),d[b]=g,d[b]}var d={};return{defaults:k,dialog:function(d,e,f,g){if("function"!=typeof e)return b(d);if(this.hasOwnProperty(d))throw new Error("alertify.dialog: name already exists");var h=c(d,e,f,g);this[d]=f?function(){if(0===arguments.length)return h.dialog;var b=a(new h.factory,p);return b&&"function"==typeof b.__init&&b.__init(b),b.main.apply(b,arguments),b.show.apply(b)}:function(){if(h.dialog&&"function"==typeof h.dialog.__init&&h.dialog.__init(h.dialog),0===arguments.length)return h.dialog;var a=h.dialog;return a.main.apply(h.dialog,arguments),a.show.apply(h.dialog)}},closeAll:function(a){for(var b=l.slice(0),c=0;c<b.length;c+=1){var d=b[c];(void 0===a||a!==d)&&d.close()}},setting:function(a,c,d){if("notifier"===a)return q.setting(c,d);var e=b(a);return e?e.setting(c,d):void 0},set:function(a,b,c){return this.setting(a,b,c)},get:function(a,b){return this.setting(a,b)},notify:function(a,b,c,d){return q.create(b,d).push(a,c)},message:function(a,b,c){return q.create(null,c).push(a,b)},success:function(a,b,c){return q.create("success",c).push(a,b)},error:function(a,b,c){return q.create("error",c).push(a,b)},warning:function(a,b,c){return q.create("warning",c).push(a,b)},dismissAll:function(){q.dismissAll()}}}var j={ENTER:13,ESC:27,F1:112,F12:123},k={modal:!0,basic:!1,movable:!0,resizable:!0,closable:!0,maximizable:!0,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},l=[],m=function(){return a.document&&a.document.addEventListener?function(a,b,c,d){a.addEventListener(b,c,d===!0)}:a.document&&a.document.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:void 0}(),n=function(){return a.document&&a.document.removeEventListener?function(a,b,c,d){a.removeEventListener(b,c,d===!0)}:a.document&&a.document.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:void 0}(),o=function(){var b,c,d=!1,e={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(b in e)if(a.document&&a.document.documentElement&&void 0!==a.document.documentElement.style[b]){c=e[b],d=!0;break}return{type:c,supported:d}}(),p=function(){function i(c){if(a.document){if(!c.__internal){delete c.__init,null===ob&&a.document.body.setAttribute("tabindex","0");var d;"function"==typeof c.setup?(d=c.setup(),d.options=d.options||{},d.focus=d.focus||{}):d={buttons:[],focus:{element:null,select:!1},options:{}};var e=c.__internal={isOpen:!1,activeElement:a.document.body,timerIn:void 0,timerOut:void 0,buttons:d.buttons||[],focus:d.focus,options:{title:void 0,modal:void 0,basic:void 0,pinned:void 0,movable:void 0,resizable:void 0,closable:void 0,maximizable:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},f={};f.root=a.document.createElement("div"),f.root.className=rb.base+" "+rb.hidden+" ",f.root.innerHTML=qb.dimmer+qb.modal,f.dimmer=f.root.firstChild,f.modal=f.root.lastChild,f.modal.innerHTML=qb.dialog,f.dialog=f.modal.firstChild,f.dialog.innerHTML=qb.reset+qb.commands+qb.header+qb.body+qb.footer+qb.resizeHandle+qb.reset,f.reset=[],f.reset.push(f.dialog.firstChild),f.reset.push(f.dialog.lastChild),f.commands={},f.commands.container=f.reset[0].nextSibling,f.commands.pin=f.commands.container.firstChild,f.commands.maximize=f.commands.pin.nextSibling,f.commands.close=f.commands.maximize.nextSibling,f.header=f.commands.container.nextSibling,f.body=f.header.nextSibling,f.body.innerHTML=qb.content,f.content=f.body.firstChild,f.footer=f.body.nextSibling,f.footer.innerHTML=qb.buttons.auxiliary+qb.buttons.primary,f.resizeHandle=f.footer.nextSibling,f.buttons={},f.buttons.auxiliary=f.footer.firstChild,f.buttons.primary=f.buttons.auxiliary.nextSibling,f.buttons.primary.innerHTML=qb.button,f.buttonTemplate=f.buttons.primary.firstChild,f.buttons.primary.removeChild(f.buttonTemplate);for(var h=0;h<c.__internal.buttons.length;h+=1){var i=c.__internal.buttons[h];nb.indexOf(i.key)<0&&nb.push(i.key),i.element=f.buttonTemplate.cloneNode(),i.element.innerHTML=i.text,"string"==typeof i.className&&""!==i.className&&b(i.element,i.className);for(var j in i.attrs)"className"!==j&&i.attrs.hasOwnProperty(j)&&i.element.setAttribute(j,i.attrs[j]);"auxiliary"===i.scope?f.buttons.auxiliary.appendChild(i.element):f.buttons.primary.appendChild(i.element)}c.elements=f,e.resetHandler=g(c,P),e.beginMoveHandler=g(c,T),e.beginResizeHandler=g(c,Z),e.bringToFrontHandler=g(c,t),e.modalClickHandler=g(c,J),e.buttonsClickHandler=g(c,L),e.commandsClickHandler=g(c,x),e.transitionInHandler=g(c,Q),e.transitionOutHandler=g(c,R),c.setting("title",void 0===d.options.title?r.defaults.glossary.title:d.options.title),c.setting("modal",void 0===d.options.modal?r.defaults.modal:d.options.modal),c.setting("basic",void 0===d.options.basic?r.defaults.basic:d.options.basic),c.setting("movable",void 0===d.options.movable?r.defaults.movable:d.options.movable),c.setting("resizable",void 0===d.options.resizable?r.defaults.resizable:d.options.resizable),c.setting("closable",void 0===d.options.closable?r.defaults.closable:d.options.closable),c.setting("maximizable",void 0===d.options.maximizable?r.defaults.maximizable:d.options.maximizable),c.setting("pinnable",void 0===d.options.pinnable?r.defaults.pinnable:d.options.pinnable),c.setting("pinned",void 0===d.options.pinned?r.defaults.pinned:d.options.pinned),c.setting("transition",void 0===d.options.transition?r.defaults.transition:d.options.transition),c.setting("padding",void 0===d.options.padding?r.defaults.padding:d.options.padding),c.setting("overflow",void 0===d.options.overflow?r.defaults.overflow:d.options.overflow),"function"==typeof c.build&&c.build()}a.document.body.appendChild(c.elements.root)}}function k(){for(var d=0,e=0;e<l.length;e+=1){var f=l[e];(f.isModal()||f.isMaximized())&&(d+=1)}0===d?c(a.document.body,rb.noOverflow):d>0&&a.document.body.className.indexOf(rb.noOverflow)<0&&b(a.document.body,rb.noOverflow)}function p(a,d,e){"string"==typeof e&&c(a.elements.root,rb.prefix+e),b(a.elements.root,rb.prefix+d),ob=a.elements.root.offsetWidth}function q(a){a.setting("modal")?(c(a.elements.root,rb.modeless),a.isOpen()&&(gb(a),F(a),k())):(b(a.elements.root,rb.modeless),a.isOpen()&&(fb(a),F(a),k()))}function s(a){a.setting("basic")?b(a.elements.root,rb.basic):c(a.elements.root,rb.basic)}function t(b,c){for(var d=l.indexOf(c),e=d+1;e<l.length;e+=1)if(l[e].isModal())return;return a.document.body.lastChild!==c.elements.root&&(a.document.body.appendChild(c.elements.root),l.splice(l.indexOf(c),1),l.push(c),O(c)),!1}function u(a,d,e,f){switch(d){case"title":a.setHeader(f);break;case"modal":q(a);break;case"basic":s(a);break;case"pinned":G(a);break;case"closable":I(a);break;case"maximizable":H(a);break;case"pinnable":C(a);break;case"movable":X(a);break;case"resizable":bb(a);break;case"transition":p(a,f,e);break;case"padding":f?c(a.elements.root,rb.noPadding):a.elements.root.className.indexOf(rb.noPadding)<0&&b(a.elements.root,rb.noPadding);break;case"overflow":f?c(a.elements.root,rb.noOverflow):a.elements.root.className.indexOf(rb.noOverflow)<0&&b(a.elements.root,rb.noOverflow);break;case"transition":p(a,f,e)}}function v(a,b,c,d,e){var f={op:void 0,items:[]};if("undefined"==typeof e&&"string"==typeof d)f.op="get",b.hasOwnProperty(d)?(f.found=!0,f.value=b[d]):(f.found=!1,f.value=void 0);else{var g;if(f.op="set","object"==typeof d){var h=d;for(var i in h)b.hasOwnProperty(i)?(b[i]!==h[i]&&(g=b[i],b[i]=h[i],c.call(a,i,g,h[i])),f.items.push({key:i,value:h[i],found:!0})):f.items.push({key:i,value:h[i],found:!1})}else{if("string"!=typeof d)throw new Error("args must be a string or object");b.hasOwnProperty(d)?(b[d]!==e&&(g=b[d],b[d]=e,c.call(a,d,g,e)),f.items.push({key:d,value:e,found:!0})):f.items.push({key:d,value:e,found:!1})}}return f}function w(a){var b;K(a,function(a){return b=a.invokeOnClose===!0}),!b&&a.isOpen()&&a.close()}function x(a,b){var c=a.srcElement||a.target;switch(c){case b.elements.commands.pin:b.isPinned()?z(b):y(b);break;case b.elements.commands.maximize:b.isMaximized()?B(b):A(b);break;case b.elements.commands.close:w(b)}return!1}function y(a){a.setting("pinned",!0)}function z(a){a.setting("pinned",!1)}function A(a){b(a.elements.root,rb.maximized),a.isOpen()&&k()}function B(a){c(a.elements.root,rb.maximized),a.isOpen()&&k()}function C(a){a.setting("pinnable")?b(a.elements.root,rb.pinnable):c(a.elements.root,rb.pinnable)}function D(a){var b=f();a.elements.modal.style.marginTop=e()+"px",a.elements.modal.style.marginLeft=b+"px",a.elements.modal.style.marginRight=-b+"px"}function E(a){var b=parseInt(a.elements.modal.style.marginTop,10),c=parseInt(a.elements.modal.style.marginLeft,10);if(a.elements.modal.style.marginTop="",a.elements.modal.style.marginLeft="",a.elements.modal.style.marginRight="",a.isOpen()){var d=0,g=0;""!==a.elements.dialog.style.top&&(d=parseInt(a.elements.dialog.style.top,10)),a.elements.dialog.style.top=d+(b-e())+"px",""!==a.elements.dialog.style.left&&(g=parseInt(a.elements.dialog.style.left,10)),a.elements.dialog.style.left=g+(c-f())+"px"}}function F(a){a.setting("modal")||a.setting("pinned")?E(a):D(a)}function G(a){a.setting("pinned")?(c(a.elements.root,rb.unpinned),a.isOpen()&&E(a)):(b(a.elements.root,rb.unpinned),a.isOpen()&&!a.isModal()&&D(a))}function H(a){a.setting("maximizable")?b(a.elements.root,rb.maximizable):c(a.elements.root,rb.maximizable)}function I(a){a.setting("closable")?(b(a.elements.root,rb.closable),lb(a)):(c(a.elements.root,rb.closable),mb(a))}function J(a,b){var c=a.srcElement||a.target;return sb||c!==b.elements.modal||w(b),sb=!1,!1}function K(a,b){for(var c=0;c<a.__internal.buttons.length;c+=1){var d=a.__internal.buttons[c];if(!d.element.disabled&&b(d)){var e=h(c,d);"function"==typeof a.callback&&a.callback.apply(a,[e]),e.cancel===!1&&a.close();break}}}function L(a,b){var c=a.srcElement||a.target;K(b,function(a){return a.element===c&&(tb=!0)})}function M(a){if(tb)return void(tb=!1);var b=l[l.length-1],c=a.keyCode;return nb.indexOf(c)>-1?(K(b,function(a){return a.key===c}),!1):0===b.__internal.buttons.length&&c===j.ESC&&b.get("closable")===!0?(w(b),!1):void 0}function N(a){var b=l[l.length-1],c=a.keyCode;return c<j.F12+1&&c>j.F1-1&&nb.indexOf(c)>-1?(a.preventDefault(),a.stopPropagation(),K(b,function(a){return a.key===c}),!1):void 0}function O(a,b){if(b)b.focus();else{var c=a.__internal.focus,d=c.element;switch(typeof c.element){case"number":a.__internal.buttons.length>c.element&&(d=a.get("basic")===!0?a.elements.reset[0]:a.__internal.buttons[c.element].element);break;case"string":d=a.elements.body.querySelector(c.element);break;case"function":d=c.element.call(a)}"undefined"!=typeof d&&null!==d||0!==a.__internal.buttons.length||(d=a.elements.reset[0]),d&&d.focus&&(d.focus(),c.select&&d.select&&d.select())}}function P(b,c){if(!c)for(var d=l.length-1;d>-1;d-=1)if(l[d].isModal()){c=l[d];break}if(c&&c.isModal()){var e,f=b.srcElement||b.target,g=f===c.elements.reset[1]||0===c.__internal.buttons.length&&f===a.document.body;g&&(c.setting("maximizable")?e=c.elements.commands.maximize:c.setting("closable")&&(e=c.elements.commands.close)),void 0===e&&("number"==typeof c.__internal.focus.element?f===c.elements.reset[0]?e=c.elements.buttons.auxiliary.firstChild||c.elements.buttons.primary.firstChild:g&&(e=c.elements.reset[0]):f===c.elements.reset[0]&&(e=c.elements.buttons.primary.lastChild||c.elements.buttons.auxiliary.lastChild)),O(c,e)}}function Q(a,b){clearTimeout(b.__internal.timerIn),O(b),tb=!1,"function"==typeof b.setting("onfocus")&&b.setting("onfocus")(),n(b.elements.dialog,o.type,b.__internal.transitionInHandler),c(b.elements.root,rb.animationIn)}function R(a,b){clearTimeout(b.__internal.timerOut),n(b.elements.dialog,o.type,b.__internal.transitionOutHandler),W(b),ab(b),b.isMaximized()&&B(b),r.defaults.maintainFocus&&b.__internal.activeElement&&(b.__internal.activeElement.focus(),b.__internal.activeElement=null)}function S(a,b){b.style.left=a[xb]-vb+"px",b.style.top=a[yb]-wb+"px"}function T(c,d){if(null===zb&&!d.isMaximized()&&d.setting("movable")){var e;if("touchstart"===c.type?(c.preventDefault(),e=c.targetTouches[0],xb="clientX",yb="clientY"):0===c.button&&(e=c),e){ub=d,vb=e[xb],wb=e[yb];var f=d.elements.dialog;return f.style.left&&(vb-=parseInt(f.style.left,10)),f.style.top&&(wb-=parseInt(f.style.top,10)),S(e,f),b(a.document.body,rb.noSelection),!1}}}function U(a){if(ub){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&S(b,ub.elements.dialog)}}function V(){ub&&(ub=null,c(a.document.body,rb.noSelection))}function W(a){ub=null;var b=a.elements.dialog;b.style.left=b.style.top=""}function X(a){a.setting("movable")?(b(a.elements.root,rb.movable),a.isOpen()&&hb(a)):(W(a),c(a.elements.root,rb.movable),a.isOpen()&&ib(a))}function Y(b,c,e){var f=c,g=0,h=0;do g+=f.offsetLeft,h+=f.offsetTop;while(f=f.offsetParent);var i,j;e===!0?(i=b.pageX,j=b.pageY):(i=b.clientX,j=b.clientY);var k=d();if(k&&(i=a.document.body.offsetWidth-i,isNaN(Ab)||(g=a.document.body.offsetWidth-g-c.offsetWidth)),c.style.height=j-h+Db+"px",c.style.width=i-g+Db+"px",!isNaN(Ab)){var l=.5*Math.abs(c.offsetWidth-Bb);k&&(l*=-1),c.offsetWidth>Bb?c.style.left=Ab+l+"px":c.offsetWidth>=Cb&&(c.style.left=Ab-l+"px")}}function Z(c,d){if(!d.isMaximized()){var e;if("touchstart"===c.type?(c.preventDefault(),e=c.targetTouches[0]):0===c.button&&(e=c),e){zb=d,Db=d.elements.resizeHandle.offsetHeight/2;var f=d.elements.dialog;return Ab=parseInt(f.style.left,10),f.style.height=f.offsetHeight+"px",f.style.minHeight=d.elements.header.offsetHeight+d.elements.footer.offsetHeight+"px",f.style.width=(Bb=f.offsetWidth)+"px","none"!==f.style.maxWidth&&(f.style.minWidth=(Cb=f.offsetWidth)+"px"),f.style.maxWidth="none",b(a.document.body,rb.noSelection),!1}}}function $(a){if(zb){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&Y(b,zb.elements.dialog,!zb.setting("modal")&&!zb.setting("pinned"))}}function _(){zb&&(zb=null,c(a.document.body,rb.noSelection),sb=!0)}function ab(a){zb=null;var b=a.elements.dialog;"none"===b.style.maxWidth&&(b.style.maxWidth=b.style.minWidth=b.style.width=b.style.height=b.style.minHeight=b.style.left="",Ab=Number.Nan,Bb=Cb=Db=0)}function bb(a){a.setting("resizable")?(b(a.elements.root,rb.resizable),a.isOpen()&&jb(a)):(ab(a),c(a.elements.root,rb.resizable),a.isOpen()&&kb(a))}function cb(){for(var a=0;a<l.length;a+=1){var b=l[a];W(b),ab(b)}}function db(b){1===l.length&&(m(a,"resize",cb),m(a.document.body,"keyup",M),m(a.document.body,"keydown",N),m(a.document.body,"focus",P),m(a.document.body,"mousemove",U),m(a.document.body,"touchmove",U),m(a.document.body,"mouseup",V),m(a.document.body,"touchend",V),m(a.document.body,"mousemove",$),m(a.document.body,"touchmove",$),m(a.document.body,"mouseup",_),m(a.document.body,"touchend",_)),m(b.elements.commands.container,"click",b.__internal.commandsClickHandler),m(b.elements.footer,"click",b.__internal.buttonsClickHandler),m(b.elements.reset[0],"focus",b.__internal.resetHandler),m(b.elements.reset[1],"focus",b.__internal.resetHandler),tb=!0,m(b.elements.dialog,o.type,b.__internal.transitionInHandler),b.setting("modal")||fb(b),b.setting("resizable")&&jb(b),b.setting("movable")&&hb(b)}function eb(b){1===l.length&&(n(a,"resize",cb),n(a.document.body,"keyup",M),n(a.document.body,"keydown",N),n(a.document.body,"focus",P),n(a.document.body,"mousemove",U),n(a.document.body,"mouseup",V),n(a.document.body,"mousemove",$),n(a.document.body,"mouseup",_)),n(b.elements.commands.container,"click",b.__internal.commandsClickHandler),n(b.elements.footer,"click",b.__internal.buttonsClickHandler),n(b.elements.reset[0],"focus",b.__internal.resetHandler),n(b.elements.reset[1],"focus",b.__internal.resetHandler),m(b.elements.dialog,o.type,b.__internal.transitionOutHandler),b.setting("modal")||gb(b),b.setting("movable")&&ib(b),b.setting("resizable")&&kb(b)}function fb(a){m(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function gb(a){n(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function hb(a){m(a.elements.header,"mousedown",a.__internal.beginMoveHandler),m(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function ib(a){n(a.elements.header,"mousedown",a.__internal.beginMoveHandler),n(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function jb(a){m(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),m(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function kb(a){n(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),n(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function lb(a){m(a.elements.modal,"click",a.__internal.modalClickHandler)}function mb(a){n(a.elements.modal,"click",a.__internal.modalClickHandler)}var nb=[],ob=null,pb=a.navigator&&a.navigator.userAgent.indexOf("Safari")>-1&&a.navigator.userAgent.indexOf("Chrome")<0,qb={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},rb={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic"},sb=!1,tb=!1,ub=null,vb=0,wb=0,xb="pageX",yb="pageY",zb=null,Ab=Number.Nan,Bb=0,Cb=0,Db=0;return{__init:i,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(rb.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(rb.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(rb.unpinned)<0},maximize:function(){return this.isMaximized()||A(this),this},restore:function(){return this.isMaximized()&&B(this),this},pin:function(){return this.isPinned()||y(this),this},unpin:function(){return this.isPinned()&&z(this),this},setting:function(a,b){var c=this,d=v(this,this.__internal.options,function(a,b,d){u(c,a,b,d)},a,b);if("get"===d.op)return d.found?d.value:"undefined"!=typeof this.settings?v(this,this.settings,this.settingUpdated||function(){},a,b).value:void 0;if("set"===d.op){if(d.items.length>0)for(var e=this.settingUpdated||function(){},f=0;f<d.items.length;f+=1){var g=d.items[f];g.found||"undefined"==typeof this.settings||v(this,this.settings,e,g.key,g.value)}return this}},set:function(a,b){return this.setting(a,b),this},get:function(a){return this.setting(a)},setHeader:function(b){return"string"==typeof b?this.elements.header.innerHTML=b:b instanceof a.HTMLElement&&this.elements.header.firstChild!==b&&(this.elements.header.innerHTML="",this.elements.header.appendChild(b)),this},setContent:function(b){return"string"==typeof b?this.elements.content.innerHTML=b:b instanceof a.HTMLElement&&this.elements.content.firstChild!==b&&(this.elements.content.innerHTML="",this.elements.content.appendChild(b)),this},showModal:function(a){return this.show(!0,a)},show:function(d,e){if(i(this),this.__internal.isOpen){W(this),ab(this),b(this.elements.dialog,rb.shake);var f=this;setTimeout(function(){c(f.elements.dialog,rb.shake)},200)}else{if(this.__internal.isOpen=!0,l.push(this),r.defaults.maintainFocus&&(this.__internal.activeElement=a.document.activeElement),"function"==typeof this.prepare&&this.prepare(),db(this),void 0!==d&&this.setting("modal",d),k(),"string"==typeof e&&""!==e&&(this.__internal.className=e,b(this.elements.root,e)),F(this),c(this.elements.root,rb.animationOut),b(this.elements.root,rb.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,o.supported?1e3:100),pb){var g=this.elements.root;g.style.display="none",setTimeout(function(){g.style.display="block"},0)}ob=this.elements.root.offsetWidth,c(this.elements.root,rb.hidden),"function"==typeof this.setting("onshow")&&this.setting("onshow")()}return this},close:function(){return this.__internal.isOpen&&(eb(this),c(this.elements.root,rb.animationIn),b(this.elements.root,rb.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,o.supported?1e3:100),b(this.elements.root,rb.hidden),ob=this.elements.modal.offsetWidth,"undefined"!=typeof this.__internal.className&&""!==this.__internal.className&&c(this.elements.root,this.__internal.className),"function"==typeof this.setting("onclose")&&this.setting("onclose")(),l.splice(l.indexOf(this),1),this.__internal.isOpen=!1,k()),this},closeOthers:function(){return r.closeAll(this),this}}}(),q=function(){function d(b){a.document&&(b.__internal||(b.__internal={position:r.defaults.notifier.position,delay:r.defaults.notifier.delay},k=document.createElement("DIV"),h(b),document.body.appendChild(k)))}function e(a){a.__internal.pushed=!0,l.push(a)}function f(a){l.splice(l.indexOf(a),1),a.__internal.pushed=!1}function h(a){switch(k.className=p.base,a.__internal.position){case"top-right":b(k,p.top+" "+p.right);break;case"top-left":b(k,p.top+" "+p.left);break;case"bottom-left":b(k,p.bottom+" "+p.left);break;default:case"bottom-right":b(k,p.bottom+" "+p.right)}}function i(d,h){function i(a,b){b.dismiss(!0)}function l(a,b){n(b.element,o.type,l),k.removeChild(b.element)}function r(b){return a.document?(b.__internal||(b.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},b.__internal.clickHandler=g(b,i),b.__internal.transitionEndHandler=g(b,l)),b):void 0}function s(a){clearTimeout(a.__internal.timer),clearTimeout(a.__internal.transitionTimeout)}return r({element:d,push:function(a,c){if(!this.__internal.pushed){e(this),s(this);var d,f;switch(arguments.length){case 0:f=this.__internal.delay;break;case 1:"number"==typeof a?f=a:(d=a,f=this.__internal.delay);break;case 2:d=a,f=c}return"undefined"!=typeof d&&this.setContent(d),q.__internal.position.indexOf("top")<0?k.appendChild(this.element):k.insertBefore(this.element,k.firstChild),j=this.element.offsetWidth,b(this.element,p.visible),m(this.element,"click",this.__internal.clickHandler),this.delay(f)}return this},ondismiss:function(){},callback:h,dismiss:function(a){return this.__internal.pushed&&(s(this),("function"!=typeof this.ondismiss||this.ondismiss.call(this)!==!1)&&(n(this.element,"click",this.__internal.clickHandler),"undefined"!=typeof this.element&&this.element.parentNode===k&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,o.supported?1e3:100),c(this.element,p.visible),"function"==typeof this.callback&&this.callback.call(this,a)),f(this))),this},delay:function(a){if(s(this),this.__internal.delay="undefined"==typeof a||isNaN(+a)?q.__internal.delay:+a,this.__internal.delay>0){var b=this;this.__internal.timer=setTimeout(function(){b.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(a){return"string"==typeof a?this.element.innerHTML=a:this.element.appendChild(a),this},dismissOthers:function(){return q.dismissAll(this),this}})}var j,k,l=[],p={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(a,b){if(d(this),"undefined"==typeof b)return this.__internal[a];switch(a){case"position":this.__internal.position=b,h(this);break;case"delay":this.__internal.delay=b}return this},set:function(a,b){return this.setting(a,b),this},get:function(a){return this.setting(a)},create:function(b,c){if(d(this),a.document){var e=a.document.createElement("div");return e.className=p.message+("string"==typeof b&&""!==b?" ajs-"+b:""),i(e,c)}},dismissAll:function(a){for(var b=l.slice(0),c=0;c<b.length;c+=1){var d=b[c];(void 0===a||a!==d)&&d.dismiss()}}}}(),r=new i;r.dialog("alert",function(){return{main:function(a,b,c){var d,e,f;switch(arguments.length){case 1:e=a;break;case 2:"function"==typeof b?(e=a,f=b):(d=a,e=b);break;case 3:d=a,e=b,f=c}return this.setting("title",d),this.setting("message",e),this.setting("onok",f),this},setup:function(){return{buttons:[{text:r.defaults.glossary.ok,key:j.ESC,invokeOnClose:!0,className:r.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=c)}},callback:function(a){if("function"==typeof this.settings.onok){var b=this.settings.onok.call(void 0,a);"undefined"!=typeof b&&(a.cancel=!b)}}}}),r.dialog("confirm",function(){function a(a){null!==c.timer&&(clearInterval(c.timer),c.timer=null,a.__internal.buttons[c.index].element.innerHTML=c.text)}function b(b,d,e){a(b),c.duration=e,c.index=d,c.text=b.__internal.buttons[d].element.innerHTML,c.timer=setInterval(g(b,c.task),1e3),c.task(null,b)}var c={timer:null,index:null,text:null,duratuin:null,task:function(b,d){if(d.isOpen()){if(d.__internal.buttons[c.index].element.innerHTML=c.text+" (&#8207;"+c.duration+"&#8207;) ",c.duration-=1,-1===c.duration){a(d);var e=d.__internal.buttons[c.index],f=h(c.index,e);"function"==typeof d.callback&&d.callback.apply(d,[f]),f.close!==!1&&d.close()}}else a(d)}};return{main:function(a,b,c,d){var e,f,g,h;switch(arguments.length){case 1:f=a;break;case 2:f=a,g=b;break;case 3:f=a,g=b,h=c;break;case 4:e=a,f=b,g=c,h=d}return this.setting("title",e),this.setting("message",f),this.setting("onok",g),this.setting("oncancel",h),this},setup:function(){return{buttons:[{text:r.defaults.glossary.ok,key:j.ENTER,className:r.defaults.theme.ok},{text:r.defaults.glossary.cancel,key:j.ESC,invokeOnClose:!0,className:r.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"labels":"ok"in c&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=c.ok,this.__internal.buttons[0].element.innerHTML=c.ok),"cancel"in c&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=c.cancel,this.__internal.buttons[1].element.innerHTML=c.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(c===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===c?0:1}},callback:function(b){a(this);var c;switch(b.index){case 0:"function"==typeof this.settings.onok&&(c=this.settings.onok.call(void 0,b),"undefined"!=typeof c&&(b.cancel=!c));break;case 1:"function"==typeof this.settings.oncancel&&(c=this.settings.oncancel.call(void 0,b),"undefined"!=typeof c&&(b.cancel=!c))}},autoOk:function(a){return b(this,0,a),this},autoCancel:function(a){return b(this,1,a),this}}}),r.dialog("prompt",function(){var b,c;return a.document&&(b=a.document.createElement("INPUT"),c=a.document.createElement("P")),{main:function(a,b,c,d,e){var f,g,h,i,j;switch(arguments.length){case 1:g=a;break;case 2:g=a,h=b;break;case 3:g=a,h=b,i=c;break;case 4:g=a,h=b,i=c,j=d;break;case 5:f=a,g=b,h=c,i=d,j=e}return this.setting("title",f),this.setting("message",g),this.setting("value",h),this.setting("onok",i),this.setting("oncancel",j),this},setup:function(){return{buttons:[{text:r.defaults.glossary.ok,key:j.ENTER,className:r.defaults.theme.ok},{text:r.defaults.glossary.cancel,key:j.ESC,invokeOnClose:!0,className:r.defaults.theme.cancel}],focus:{element:b,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){b.className=r.defaults.theme.input,b.setAttribute("type","text"),b.value=this.settings.value,this.elements.content.appendChild(c),this.elements.content.appendChild(b)},prepare:function(){},setMessage:function(b){"string"==typeof b?c.innerHTML=b:b instanceof a.HTMLElement&&c.firstChild!==b&&(c.innerHTML="",c.appendChild(b))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",reverseButtons:void 0},settingUpdated:function(a,c,d){switch(a){case"message":this.setMessage(d);break;case"value":b.value=d;break;case"labels":d.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=d.ok),d.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=d.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(d===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(a){var c;switch(a.index){case 0:this.value=b.value,"function"==typeof this.settings.onok&&(c=this.settings.onok.call(void 0,a,this.value),"undefined"!=typeof c&&(a.cancel=!c));break;case 1:"function"==typeof this.settings.oncancel&&(c=this.settings.oncancel.call(void 0,a),"undefined"!=typeof c&&(a.cancel=!c))}}}}),"function"==typeof define?define([],function(){return r}):a.alertify||(a.alertify=r)}(this);